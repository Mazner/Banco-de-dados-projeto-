DROP TABLE IF EXISTS BIOMEDICOS;
DROP TABLE IF EXISTS CIRURGIAS;
DROP TABLE IF EXISTS DEPARTAMENTOS;
DROP TABLE IF EXISTS DOENCAS;
DROP TABLE IF EXISTS ENFERMEIROS;
DROP TABLE IF EXISTS LEITOS;
DROP TABLE IF EXISTS MEDICAMENTOS;
DROP TABLE IF EXISTS MEDICOS;
DROP TABLE IF EXISTS PACIENTES;
DROP TABLE IF EXISTS EXAME_LABORATORIAL;
DROP TABLE IF EXISTS FUNCIONARIO_LOGISTICA;
DROP TABLE IF EXISTS LEITOS_QUARTOS;

DROP TABLE IF EXISTS BIOMEDICOS_REALIZAM_EXAMES;
DROP TABLE IF EXISTS BIOMEDICO_DEPARTAMENTO;
DROP TABLE IF EXISTS CIRURGIAS_NECESSITAM_MEDICAMENTOS;
DROP TABLE IF EXISTS DEPARTAMENTO_REQUISITA;
DROP TABLE IF EXISTS ENFERMEIRO_AUXILIA_CIRURGIA;
DROP TABLE IF EXISTS ENFERMEIRO_TRABALHA;
DROP TABLE IF EXISTS ENFERMEIRO_AUXILIA_LEITO;
DROP TABLE IF EXISTS FUNCIONARIO_LOGISTICA_TRABALHA;
DROP TABLE IF EXISTS FUNCIONARIO_ENTREGA;
DROP TABLE IF EXISTS LEITO_REQUISITA;
DROP TABLE IF EXISTS MEDICO_TRABALHA;
DROP TABLE IF EXISTS MEDICOS_REALIZAM_CIRURGIAS;
DROP TABLE IF EXISTS MEDICOS_TRATAM_DE_PACIENTES;
DROP TABLE IF EXISTS PACIENTES_DIAGNOSTICO;
DROP TABLE IF EXISTS PACIENTES_LEITO;
DROP TABLE IF EXISTS PACIENTES_MEDICAMENTO;
DROP TABLE IF EXISTS REQUISITO_LEITO;


/* Declaração das tabelas*/ 

CREATE TABLE MEDICOS(
	CRM INTEGER NOT NULL PRIMARY KEY,
    NOME VARCHAR(100) NOT NULL,
    RG VARCHAR(30) NOT NULL,
    IDADE INTEGER NOT NULL
);

CREATE TABLE PACIENTES(
	CPF VARCHAR(100) NOT NULL PRIMARY KEY,
    NOME VARCHAR(100) NOT NULL,
    IDADE INTEGER NOT NULL,
    RG VARCHAR(30) NOT NULL,
    SEXO VARCHAR (20) NOT NULL
);

CREATE TABLE LEITOS(
	ID VARCHAR(100) NOT NULL PRIMARY KEY,
    ESPECIALIDADE VARCHAR(100) NOT NULL,
    NUMERO_CAMAS INTEGER NOT NULL
);

CREATE TABLE QUARTOS_LEITOS(
	ID_LEITO VARCHAR(100),
    NUMERO_QUARTO INTEGER,
    NUMERO_VISITANTES INTEGER,
    
    FOREIGN KEY (ID_LEITO) REFERENCES LEITOS (ID),
    PRIMARY KEY (ID_LEITO)
);

CREATE TABLE DOENCAS(
	NOME_CIENTIFICO VARCHAR(100) NOT NULL PRIMARY KEY,
    SINTOMAS VARCHAR (300) NOT NULL,
    FATOR_DE_RISCO VARCHAR (30) NOT NULL
);

CREATE TABLE EXAME_LABORATORIAL(
	ID_EXAME VARCHAR(100) NOT NULL PRIMARY KEY,
    DATA_EXAME DATE NOT NULL,
    RESULTADO VARCHAR(100) NOT NULL
);

CREATE TABLE BIOMEDICOS(
	CRBM VARCHAR(100) NOT NULL PRIMARY KEY,
    NOME VARCHAR (100) NOT NULL,
    IDADE INTEGER NOT NULL
);

CREATE TABLE ENFERMEIROS (
	COREN VARCHAR(100) NOT NULL PRIMARY KEY, 
    NOME VARCHAR(100) NOT NULL,
	IDADE INTEGER NOT NULL
);

CREATE TABLE MEDICAMENTOS(
	ID_MEDICAMENTO INTEGER NOT NULL PRIMARY KEY,
    PRECO VARCHAR(100) NOT NULL,
	TIPO VARCHAR(100) NOT NULL,
    QUANTIDADE INTEGER NOT NULL
);

CREATE TABLE CIRURGIAS (
	TIPO VARCHAR(100) NOT NULL PRIMARY KEY,
    DATA_CIRURGIA DATE NOT NULL,
    HORA_INICIO VARCHAR(100) NOT NULL,
    RESULTADO VARCHAR (100) NOT NULL
);

CREATE TABLE FUNCIONARIO_LOGISTICA (
	ID_FUNCIONARIO VARCHAR(100) NOT NULL PRIMARY KEY,
    NOME VARCHAR(100) NOT NULL,
    IDADE INTEGER NOT NULL
);

CREATE TABLE DEPARTAMENTOS (
	ID_DEPARTAMENTO VARCHAR(100) NOT NULL PRIMARY KEY,
    NOME VARCHAR(100) NOT NULL,
    ORCAMENTO VARCHAR(100) NOT NULL
);

/***************** Relações entre as tabelas****************/

CREATE TABLE MEDICOS_TRATAM_DE_PACIENTES(
	CRM INTEGER NOT NULL,
    CPF VARCHAR(100) NOT NULL,
    
    FOREIGN KEY (CRM) REFERENCES MEDICOS(CRM),
    FOREIGN KEY (CPF) REFERENCES PACIENTES(CPF),
    
    PRIMARY KEY (CRM, CPF)
);

CREATE TABLE MEDICOS_REALIZAM_CIRURGIAS(
	CRM INTEGER NOT NULL,
    TIPO VARCHAR(100) NOT NULL,
    
    FOREIGN KEY (CRM) REFERENCES MEDICOS(CRM),
    FOREIGN KEY (TIPO) REFERENCES CIRURGIAS(TIPO),
    
    PRIMARY KEY (CRM,TIPO)
);

CREATE TABLE CIRURGIAS_NECESSITAM_MEDICAMENTOS(
	TIPO VARCHAR(100) NOT NULL,
    ID_MEDICAMENTO INTEGER NOT NULL,
    
    FOREIGN KEY (TIPO) REFERENCES CIRURGIAS(TIPO),
    FOREIGN KEY (ID_MEDICAMENTO) REFERENCES MEDICAMENTOS(ID_MEDICAMENTO),
    
    PRIMARY KEY (TIPO,ID_MEDICAMENTO)
);

CREATE TABLE ENFERMEIRO_AUXILIA_CIRURGIA(
	COREN VARCHAR(100) NOT NULL,
    TIPO VARCHAR(100) NOT NULL,
    
    FOREIGN KEY (COREN) REFERENCES ENFERMEIROS(COREN),
    FOREIGN KEY (TIPO) REFERENCES CIRURGIAS(TIPO),
    
    PRIMARY KEY (COREN, TIPO) 
);

CREATE TABLE ENFERMEIRO_AUXILIA_LEITO(
	COREN VARCHAR(100) NOT NULL,
    ID_LEITO VARCHAR(100) NOT NULL,
    
    FOREIGN KEY (COREN) REFERENCES ENFERMEIROS(COREN),
    FOREIGN KEY (ID_LEITO) REFERENCES LEITOS(ID),
    
    PRIMARY KEY (COREN, ID_LEITO)
);

CREATE TABLE LEITO_REQUISITA (
	ID_LEITO VARCHAR(100) NOT NULL,
    ID_MEDICAMENTO INTEGER NOT NULL,
    
    FOREIGN KEY (ID_LEITO) REFERENCES LEITOS(ID),
    FOREIGN KEY (ID_MEDICAMENTO) REFERENCES MEDICAMENTOS(ID_MEDICAMENTO),
    
    PRIMARY KEY (ID_LEITO,ID_MEDICAMENTO)
);

CREATE TABLE MEDICO_TRABALHA (
	CRM INTEGER NOT NULL,
    ID_DEPARTAMENTO VARCHAR(100) NOT NULL,
    
    FOREIGN KEY (CRM) REFERENCES MEDICOS(CRM),
    FOREIGN KEY (ID_DEPARTAMENTO) REFERENCES DEPARTAMENTOS (ID_DEPARTAMENTO),
    
    PRIMARY KEY (CRM, ID_DEPARTAMENTO)
);

CREATE TABLE DEPARTAMENTO_REQUISITA(
	ID_DEPARTAMENTO VARCHAR(100) NOT NULL,
    ID_FUNCIONARIO VARCHAR(100) NOT NULL,

    FOREIGN KEY (ID_DEPARTAMENTO) REFERENCES DEPARTAMENTOS(ID_DEPARTAMENTO),
    FOREIGN KEY (ID_FUNCIONARIO) REFERENCES FUNCIONARIO_LOGISTICA (ID_FUNCIONARIO),
    
    PRIMARY KEY (ID_DEPARTAMENTO, ID_FUNCIONARIO)
);

CREATE TABLE FUNCIONARIO_ENTREGA_MEDICAMENTO(
	ID_FUNCIONARIO VARCHAR(100) NOT NULL,
    ID_MEDICAMENTO INTEGER NOT NULL,
    DATA_ENTREGA DATE NOT NULL,
    QUANTIDADE_ENTREGUE INTEGER NOT NULL,
    
    FOREIGN KEY (ID_FUNCIONARIO) REFERENCES FUNCIONARIO_LOGISTICA(ID_FUNCIONARIO),
    
    PRIMARY KEY (ID_FUNCIONARIO)
);

CREATE TABLE FUNCIONARIO_LOGISITICA_TRABALHA(
	ID_FUNCIONARIO VARCHAR(100) NOT NULL,
    ID_DEPARTAMENTO VARCHAR(100) NOT NULL,
    
    FOREIGN KEY (ID_FUNCIONARIO) REFERENCES FUNCIONARIO_LOGISTICA(ID_FUNCIONARIO),
    FOREIGN KEY (ID_DEPARTAMENTO) REFERENCES DEPARTAMENTOS(ID_DEPARTAMENTO),
    
    PRIMARY KEY (ID_FUNCIONARIO, ID_DEPARTAMENTO)
);

CREATE TABLE ENFERMEIRO_TRABALHA(
	COREN VARCHAR(100) NOT NULL,
    ID_DEPARTAMENTO VARCHAR(100) NOT NULL,
    
    FOREIGN KEY (COREN) REFERENCES ENFERMEIROS(COREN),
    FOREIGN KEY (ID_DEPARTAMENTO) REFERENCES DEPARTAMENTOS(ID_DEPARTAMENTO),
    
    PRIMARY KEY (COREN, ID_DEPARTAMENTO)
);

CREATE TABLE PACIENTES_DIAGNOSTICO(
	CPF VARCHAR(100) NOT NULL,
    DOENCA VARCHAR(100) NOT NULL,
    
    FOREIGN KEY (CPF) REFERENCES PACIENTES(CPF),
    FOREIGN KEY (DOENCA) REFERENCES DOENCAS(NOME_CIENTIFICO),
    
    PRIMARY KEY (CPF, DOENCA)
);

CREATE TABLE BIOMEDICOS_REALIZAM_EXAMES(
	CRBM VARCHAR(100) NOT NULL,
    ID_EXAME VARCHAR(100) NOT NULL,
    
    FOREIGN KEY (CRBM) REFERENCES BIOMEDICOS (CRBM),
    FOREIGN KEY (ID_EXAME) REFERENCES EXAME_LABORATORIAL(ID_EXAME),
    
    PRIMARY KEY (CRBM, ID_EXAME)
);

CREATE TABLE BIOMEDICO_DEPARTAMENTO(
	CRBM VARCHAR(100) NOT NULL,
    ID_DEPARTAMENTO VARCHAR(100) NOT NULL,
    
    FOREIGN KEY(CRBM) REFERENCES BIOMEDICOS(CRBM),
    FOREIGN KEY(ID_DEPARTAMENTO) REFERENCES DEPARTAMENTOS(ID_DEPARTAMENTO),
    
    PRIMARY KEY (CRBM, ID_DEPARTAMENTO)
);

CREATE TABLE PACIENTES_MEDICAMENTO(
	CPF VARCHAR(100) NOT NULL,
    ID_MEDICAMENTO INTEGER NOT NULL,
    QUANTIDADE_DIARIA INTEGER NOT NULL,
    NOME_MEDICAMENTO VARCHAR(100),
    
    FOREIGN KEY (CPF) REFERENCES PACIENTES (CPF),
    FOREIGN KEY (ID_MEDICAMENTO) REFERENCES MEDICAMENTOS(ID_MEDICAMENTO),
    
    PRIMARY KEY (CPF, ID_MEDICAMENTO)
);

CREATE TABLE REQUISITO_LEITO(
	ID_LEITO VARCHAR(100) NOT NULL,
    ID_MEDICAMENTO INTEGER NOT NULL,
    
    FOREIGN KEY (ID_LEITO) REFERENCES LEITOS(ID),
    FOREIGN KEY (ID_MEDICAMENTO) REFERENCES MEDICAMENTOS(ID_MEDICAMENTO),
    
    PRIMARY KEY (ID_LEITO, ID_MEDICAMENTO)
);

CREATE TABLE PACIENTES_LEITO(
	ID_LEITO VARCHAR(100) NOT NULL,
	CPF VARCHAR(100) NOT NULL,
	
    FOREIGN KEY (ID_LEITO) REFERENCES LEITOS(ID),
    FOREIGN KEY (CPF) REFERENCES PACIENTES (CPF),
    
    PRIMARY KEY (CPF, ID_LEITO)
);

/*------------------------------MEDICOS---------------------------*/

INSERT INTO MEDICOS (CRM, NOME, RG, IDADE)
VALUES ('90264', 'LUCAS MARTINS', '654123055', '43'),
	   ('32015', 'EDSON RIBEIRO', '741523320', '27'),
       ('45164', 'EDUARDO SOUSA', '765121452', '54'),
       ('57239', 'CAROLINA TEIXEIRA', '129346242','24'),
       ('43215', 'MAYARA SANTOS', '895275829', '36'),
       ('94312', 'JULIA CARDOSO', '353283671', '64'),
       ('78547', 'MATEUS OLIVEIRA', '876591464','73'),
       ('12398', 'LAURA RODRIGUES', '973157474', '28'),
       ('55436', 'JOAO PEREIRA', '437251902', '32'),
       ('23722', 'NICOLAS MARTINS', '974646157', '36');
        
/*------------------------------PACIENTES---------------------------*/  

INSERT INTO PACIENTES (CPF, NOME, RG, IDADE, SEXO)      
VALUES('36452221025', 'CARLOS EDUARDO', '361540204', '15', 'MASCULINO'),
	  ('33343233232', 'IAN TERUO', '245683279', '21', 'MASCULINO'), 
      ('78302759306', 'GABRIELA ROSA', '697841025', '45', 'FEMININO'),
      ('32685573531', 'PAULO HENRIQUE', '538609493', '96', 'MASCULINO'),
      ('59489485854','LETICIA RAMPASO', '859305830', '25', 'FEMININO'),
      ('58939111433', 'MARCOS PAULO', '354120126', '21', 'MASCULINO'),
      ('36412254790', 'LUCAS GUNTHER', '325943028', '24', 'MASCULINO'),
      ('39684302853', 'EDSON MEDEIROS', '439694028', '03', 'MASCULINO'),
      ('59382203294', 'BEN AFFLECK', '482648510', '24', 'MASCULINO'),
      ('48392165943', 'MARGOT ROBBIE','434910495', '32', 'FEMININO'),
      ('36416486321','Ronaldo Augusto','301514450','62','MASCULINO'),
      ('54986428392','Edson Celulari','5616215452','4','MASCULINO'),
      ('53968401839','Cristiano Pedroso','645521365','45','MASCULINO'),
      ('08568472391','Pedro Cristianoso','564612655','12','MASCULINO'),
      ('32682947502','João Paulo','565311650','41','MASCULINO'),
      ('42654840532','Luiz Paulo Neto','316872611','42','MASCULINO');

/*------------------------------LEITOS---------------------------*/ 

INSERT INTO LEITOS (ID, ESPECIALIDADE, NUMERO_CAMAS)
VALUES('001','UTI','1'),
	('002','PEDIATRIA','2'),
    ('003','PEDIATRIA','4'),
    ('004','UTI','2'),
    ('005','ENFERMARIA','1'),
    ('006','ENFERMARIA','2'),
    ('007','INTERNACAO','1'),
    ('008','INTERNACAO','2'),
    ('009','UTI','4'),
    ('010','UTI','4');

/*------------------------------DOENÇAS---------------------------*/ 

INSERT INTO DOENCAS(NOME_CIENTIFICO, SINTOMAS, FATOR_DE_RISCO)
VALUES('Mycobacterium tuberculosis','TOSSE, FEBRE E CANSAÇO','MEDIO'),
	('Mycobacterium leprae','LESOES NA PELE E PERDA DE SENSIBILIDADE NA REGIAO AFETADA','ALTO'),
	('Bordetella pertussis','TOSSE SECA PERSISTENTE','BAIXO'),
    ('Clostridium tetani','DOR DE CABECA, FEBRE E CONTRACOES INVOLUNTARIAS','ALTO'),
    ('Meningococo','FEBRE ALTA, VOMITOS E RIGIDEZ DOS MUSCULOS DA NUCA','ALTO'),
    ('Leptospira interrogans','FEBRE ALTA, DORES NAS ARTICULAÇÕES E CALAFRIOS','MEDIO'),
    ('COVID-19','TOSSE SECA, CANSACO, PERDA DE PALADAR, FEBRE','ALTO'),
    ('INFLUENZA H1N1','DIAREIA, NAUSEA, DOR NOS MUSCULOS E ESPIRROS','ALTO'),
    ('HIV','CANSACO E PROPENSAO A OUTRAS DOENCAS','ALTO'),
    ('HSV-2','ULCERAS NA PELE E GENITAIS, APARECIMENTO DE VESICULAS E COCEIRA GENITAL ','BAIXO'),
    ('SIFILIS','ULCERA NA PELE INDOLOR, FIRME E NAO PURIGINOSA', 'BAIXO');
/*------------------------------EXAME LABORATORIAL---------------------------*/ 

INSERT INTO EXAME_LABORATORIAL(ID_EXAME, DATA_EXAME, RESULTADO)
VALUES('001','2021-08-20','POSITIVO'),
	('002','2021-08-17','NEGATIVO'),
    ('003','2021-03-03','POSITIVO'),
    ('004','2021-05-07','POSITIVO'),
    ('005','2021-05-07','POSITIVO'),
    ('006','2020-09-07','NEGATIVO'),
    ('007','2021-08-11','POSITIVO'),
    ('008','2021-01-25','NEGATIVO'),
    ('009','2021-08-11','NEGATIVO'),
    ('010','2021-05-07','NEGATIVO');


/*------------------------------BIOMEDICOS---------------------------*/ 

INSERT INTO BIOMEDICOS(CRBM, NOME, IDADE)
VALUES('2146846','ANTONIO LOUIS','23'),
	('8357307','LEONARDO DICAPRIO','32'),
    ('5748942','RODRIGO SANTORO','43'),
    ('1325631','TOM HANKS','63'),
    ('9567246','JOAO ABRAAO','71'),
    ('6312328','DIANE NGUYEN','35'),
    ('6424421','STEFANIE JOOSTEN','27'),
    ('6426184','JUSTIN BIEBER','84'),
    ('3682751','LEWIS HAMILTON','32'),
    ('8100033','CHRISTOPHER NOLAN','52');


/*------------------------------ENFERMEIROS---------------------------*/ 

INSERT INTO ENFERMEIROS(COREN, NOME, IDADE)
VALUES('3563442','JOAQUIM LOCS','64'),
	('3245267','REINALDO VILAR','48'),
    ('2224268','LEOPOLDINO CICRANO','79'),
    ('9911192','FULANO PEDRO','38'),
    ('9181589','MARCOS BEZNER','24'),
    ('2382744','NOME FALSITON','31'),
    ('2422744','MAX WEBER','76'),
    ('9761809','DILMA ROUSSEF','36'),
    ('1247561','GUSTAVO LIMA','21'),
    ('1278699','JOSH HOMME','52');

/*------------------------------MEDICAMENTOS---------------------------*/ 

INSERT INTO MEDICAMENTOS(ID_MEDICAMENTO, PRECO, TIPO, QUANTIDADE)
VALUES('3521','R$ 21,49','ANTIBIOTICO','21'),
	('4621','R$ 93,32','ANESTESICO','65'),
    ('2342','R$ 12,40','ANTI INFLAMATORIO','120'),
    ('3124','R$ 139,20','ANESTESICO','31'),
    ('4421','R$ 186,23','RETROVIRAL','42'),
    ('2964','R$ 31,54','ANTI INFLAMATORIO','30'),
    ('3693','R$ 16,54','ANTIBIOTICO','41'),
    ('2232','R$ 84,12','ANTI INFLAMATORIO','61'),
    ('4212','R$ 103,03','RETROVIRAL','31'),
    ('4613','R$ 89,21','RETROVIRAL','69');

/*------------------------------CIRURGIAS---------------------------*/ 

INSERT INTO CIRURGIAS(TIPO, DATA_CIRURGIA, HORA_INICIO, RESULTADO)
VALUES('001','2020-08-01','12:21','Sucesso'),
	('002','2021-10-21','09:09','Sucesso'),
    ('003','2021-11-14','14:41','Sucesso'),
    ('004','2021-11-25','15:51','Sucesso'),
    ('005','2021-01-07','16:01','Adiada'),
    ('006','2021-02-11','07:26','Sucesso'),
    ('007','2021-03-30','08:14','Fracasso'),
    ('008','2020-03-25','09:26','Sucesso'),
    ('009','2021-06-15',':11:11','Adiada'),
    ('010','2021-05-07','21:32','Fracasso');
/*------------------------------FUNCIONARIO_LOGÍSTICA---------------------------*/ 

INSERT INTO FUNCIONARIO_LOGISTICA(ID_FUNCIONARIO, NOME, IDADE)
VALUES('3563442','BRAD PITT','64'),
	('4263131','WILL SMITH','48'),
    ('5347521','DON CORLEONE','79'),
    ('4156321','ANGELA MERKEL','38'),
    ('4154721','VLADMIR PUTIN','24'),
    ('2315214','DAVID BECKHAM','31'),
    ('2143522','VIN GASOLINA','76'),
    ('2465236','RYAN REINOLDS','36'),
    ('6479833','CALVIN HARRIS','21'),
    ('8745742','MARILYN MASON','52');
/*------------------------------DEPARTAMENTOS---------------------------*/ 

INSERT INTO DEPARTAMENTOS(ID_DEPARTAMENTO, NOME, ORCAMENTO)
VALUES('001','ADMINISTRATIVO','R$ 150.094,43'),
	('002','CLINICOS GERAIS','R$ 210.201,59'),
    ('003','BIOMEDICOS','R$ 78.871,59'),
    ('004','CIRURGIOES PEDIATRAS','R$ 98.651,59'),
    ('005','GASTRO CIRURGIOES','R$ 86.966,59'),
    ('006','LOGISTICA','R$ 184.235,59'),
    ('007','ENFERMEIROS','R$ 140.131,59'),
    ('008','FINANCEIRO','R$ 69.275,59'),
    ('009','CIRURGIOES CARDIACOS','R$ 361.432,59'),
    ('010','MEDICACOES','R$ 124.543,59');
    
    /*------------------------------MEDICOS_TRATAM_DE_PACIENTES---------------------------*/ 

INSERT INTO MEDICOS_TRATAM_DE_PACIENTES(CRM,CPF)
VALUES('90264','36452221025'),
    ('32015','33343233232'),
    ('45164','78302759306'),
    ('57239','32685573531'),
    ('43215','59489485854'),
    ('43215','58939111433'),
    ('78547','39684302853'),
    ('12398','36412254790'),
    ('55436','59382203294'),
    ('23722','48392165943'),
    ('90264','36416486321'),
    ('90264','42654840532'),
    ('12398','32682947502'),
    ('12398','08568472391'),
    ('55436','53968401839'),
    ('55436','54986428392');
    
 /*------------------------------BIOMEDICOS_REALIZAM_EXAMES---------------------------*/ 
 
 INSERT INTO BIOMEDICOS_REALIZAM_EXAMES(CRBM,ID_EXAME)
 VALUES('2146846','001'),
 ('2146846','002'),
 ('6312328','003'),
 ('2146846','004'),
 ('2146846','005'),
 ('6312328','006'),
 ('2146846','007'),
 ('2146846','008'),
 ('2146846','009'),
 ('2146846','010');

/*------------------------------BIOMEDICO_DEPARTAMENTO---------------------------*/ 

INSERT INTO BIOMEDICO_DEPARTAMENTO(CRBM,ID_DEPARTAMENTO)
VALUES('2146846','003'),
	('8357307','003'),
    ('5748942','003'),
    ('1325631','003'),
    ('9567246','003'),
    ('6312328','003'),
    ('6424421','003'),
    ('6426184','003'),
    ('3682751','003'),
    ('8100033','003');
    
/*------------------------------CIRURGIAS_NECESSITAM_MEDICAMENTOS---------------------------*/
    
INSERT INTO CIRURGIAS_NECESSITAM_MEDICAMENTOS(TIPO,ID_MEDICAMENTO)
VALUES('001','3124'),
	('002','3124'),
    ('003','3124'),
    ('004','3124'),
    ('005','3124'),
    ('006','3124'),
    ('007','3124'),
    ('008','3124'),
    ('009','3521'),
    ('010','3521');
    
/*------------------------------DEPARTAMENTO_REQUISITA---------------------------*/

INSERT INTO DEPARTAMENTO_REQUISITA(ID_DEPARTAMENTO, ID_FUNCIONARIO)
VALUES('001','3563442'),
('002','8745742')
,('003','6479833')
,('004','2465236')
,('005','2143522')
,('006','2315214')
,('007','4154721')
,('008','4156321')
,('009','5347521')
,('010','4263131');
    
/*------------------------------ENFERMEIRO_AUXILIA_CIRURGIA---------------------------*/
   
INSERT INTO  ENFERMEIRO_AUXILIA_CIRURGIA(COREN,TIPO)
VALUES ('3563442','001'),
	('3245267','002'),
    ('2224268','003'),
    ('9911192','004'),
    ('9181589','005'),
    ('2382744','006'),
    ('2422744','007'),
    ('9761809','008'),
    ('1247561','009'),
    ('1278699','010');
    
/*------------------------------ENFERMEIRO_TRABALHA---------------------------*/
INSERT INTO ENFERMEIRO_TRABALHA(COREN,ID_DEPARTAMENTO)
VALUES ('1278699','007'),
	('1247561','007'),
    ('9761809','007'),
    ('2422744','007'),
    ('2382744','007'),
    ('9181589','007'),
    ('9911192','007'),
    ('2224268','007'),
    ('3245267','007'),
    ('3563442','007');
/*------------------------------ENFERMEIRO_AUXILIA_LEITO---------------------------*/
INSERT INTO ENFERMEIRO_AUXILIA_LEITO(COREN,ID_LEITO)
VALUES ('3563442','001'),
	('3245267','002'),
    ('2224268','003'),
    ('9911192','004'),
    ('1247561','005'),
    ('2382744','006'),
    ('1247561','007'),
    ('9761809','008'),
    ('1247561','009'),
    ('1278699','010');

/*------------------------------FUNCIONARIO_LOGISTICA_TRABALHA---------------------------*/
INSERT INTO FUNCIONARIO_LOGISITICA_TRABALHA(ID_FUNCIONARIO, ID_DEPARTAMENTO)
VALUES ('8745742','006'),
	('6479833','006'),
    ('2143522','006'),
    ('2465236','006'),
    ('2315214','006'),
    ('4154721','006'),
    ('4156321','006'),
    ('5347521','006'),
    ('4263131','006'),
    ('3563442','006');

/*------------------------------FUNCIONARIO_ENTREGA---------------------------*/
INSERT INTO FUNCIONARIO_ENTREGA_MEDICAMENTO(ID_FUNCIONARIO, ID_MEDICAMENTO, DATA_ENTREGA, QUANTIDADE_ENTREGUE)
VALUES ('3563442','4613','2021-08-07','12'),
	('4263131','4212','2021-09-07','5'),
    ('5347521','3693','2021-10-03','8'),
    ('4156321','2232','2021-11-11','7'),
    ('4154721','3124','2021-01-06','9'),
    ('2315214','4421','2021-01-05','8'),
    ('2143522','2964','2021-02-01','5'),
    ('2465236','2342','2021-06-14','4'),
    ('6479833','4621','2021-08-25','15'),
    ('8745742','3521','2021-09-17','3');
    
/*------------------------------LEITO_REQUISITA---------------------------*/
INSERT INTO LEITO_REQUISITA(ID_LEITO,ID_MEDICAMENTO)
VALUES ('001','3521'),
	('002','2342'),
    ('003','4421'),
    ('004','2964'),
    ('005','3693'),
    ('006','2232'),
    ('007','4212'),
    ('008','4613'),
    ('009','2964'),
    ('010','3521');

/*------------------------------MEDICO_TRABALHA---------------------------*/
INSERT INTO MEDICO_TRABALHA(CRM,ID_DEPARTAMENTO)
VALUES ('90264','002'),
	('32015','004'),
    ('45164','002'),
    ('57239','004'),
    ('43215','002'),
    ('94312','005'),
    ('78547','005'),
    ('12398','005'),
    ('55436','009'),
    ('23722','009');

/*------------------------------MEDICOS_REALIZAM_CIRURGIAS---------------------------*/
INSERT INTO MEDICOS_REALIZAM_CIRURGIAS(CRM,TIPO)
VALUES ('23722','001'),
	('55436','002'),
    ('12398','003'),
    ('78547','004'),
    ('94312','005'),
    ('43215','006'),
    ('57239','007'),
    ('45164','008'),
    ('32015','009'),
    ('90264','010');

/*------------------------------PACIENTES_DIAGNOSTICO---------------------------*/
INSERT INTO PACIENTES_DIAGNOSTICO(CPF,DOENCA)
VALUES ('48392165943','SIFILIS'),
	('59382203294','HSV-2'),
    ('36412254790','INFLUENZA H1N1'),
    ('39684302853','HIV'),
    ('58939111433','COVID-19'),
    ('59489485854','Leptospira interrogans'),
    ('32685573531','HSV-2'),
    ('78302759306','Clostridium tetani'),
    ('33343233232','HSV-2'),
    ('36452221025','Mycobacterium leprae');

/*------------------------------PACIENTES_LEITO---------------------------*/
INSERT INTO PACIENTES_LEITO(CPF,ID_LEITO)
VALUES ('36452221025','001'),
	('33343233232','002'),
    ('78302759306','003'),
    ('32685573531','004'),
    ('59489485854','005'),
    ('58939111433','006'),
    ('39684302853','007'),
    ('36412254790','008'),
    ('59382203294','009'),
    ('48392165943','010');

/*------------------------------PACIENTES_MEDICAMENTO---------------------------*/
INSERT INTO PACIENTES_MEDICAMENTO(CPF,ID_MEDICAMENTO,QUANTIDADE_DIARIA, NOME_MEDICAMENTO)
VALUES ('48392165943','3521','2','Amoxicilina'),
	('59382203294','4621','4','Benzocaína'),
    ('36412254790','2342','2','paracetamol '),
    ('39684302853','3124','4','Clorprocaína'),
    ('58939111433','4421','2','Zidovudina'),
    ('59489485854','2964','1','paracetamol'),
    ('32685573531','3693','2','Ampicilina'),
    ('78302759306','2232','2','paracetamol'),
    ('33343233232','4212','2','Efavirenz'),
    ('36452221025','4613','4','Lamivudina');
/*------------------------------QUARTOS_LEITOS---------------------------*/
INSERT INTO QUARTOS_LEITOS(ID_LEITO,NUMERO_QUARTO,NUMERO_VISITANTES)
VALUES ('001','210','2'),
	('002','220','2'),
    ('003','230','4'),
    ('004','310','2'),
    ('005','320','4'),
    ('006','330','1'),
    ('007','410','4'),
    ('008','420','2'),
    ('009','510','1'),
    ('010','520','3');
    

/*nome dos pacientes e CPF que receberam o tratamento do médico cujo CRM é 55436*/

SELECT P.NOME, P.CPF
FROM PACIENTES P
WHERE P.CPF IN (
    SELECT PT.CPF
    FROM MEDICOS_TRATAM_DE_PACIENTES PT
    WHERE PT.CRM = '55436');
 
/* Nome e idade dos pacientes que não receberam paracetamol*/
SELECT P.NOME, P.IDADE
FROM PACIENTES P
WHERE P.CPF NOT IN (
    SELECT PM.CPF
    FROM PACIENTES_MEDICAMENTO PM
    WHERE PM.NOME_MEDICAMENTO = 'paracetamol');
    
/* Mostra o numero do quarto, também como o numero de visitantes que não estão 
nos leitos de UTI*/
    
SELECT Q.NUMERO_QUARTO, Q.NUMERO_VISITANTES
FROM QUARTOS_LEITOS Q
WHERE Q.ID_LEITO NOT IN (SELECT L.ID
					FROM LEITOS L
					WHERE L.ESPECIALIDADE = 'UTI');
                    
/*Mostra o nome e ID dos funcionarios que entregaram medicamentos entre as datas '2021-01-01' e '2021-05-06'*/
SELECT F.ID_FUNCIONARIO, F.NOME
FROM FUNCIONARIO_LOGISTICA F
WHERE F.ID_FUNCIONARIO IN (SELECT FE.ID_FUNCIONARIO
				FROM FUNCIONARIO_ENTREGA_MEDICAMENTO FE
				WHERE FE.DATA_ENTREGA BETWEEN '2021-01-01' AND '2021-05-06');
		
/* Mostra os nomes dos biomédicos que realizaram os exames entre as IDs "001" e "005"*/
SELECT B.NOME
FROM BIOMEDICOS B
WHERE B.CRBM IN (SELECT BM.CRBM
				FROM BIOMEDICOS_REALIZAM_EXAMES BM
                WHERE BM.ID_EXAME BETWEEN '001' AND '005');
 
 
/*MOSTRA OS FUNCIONARIOS QUE ENTREGARAM MAIS MEDICAMENTOS QUE A MÉDIA*/ 
SELECT F.ID_FUNCIONARIO, F.NOME
FROM FUNCIONARIO_LOGISTICA F
WHERE F.ID_FUNCIONARIO IN (
	SELECT FE.ID_FUNCIONARIO
	FROM FUNCIONARIO_ENTREGA_MEDICAMENTO FE
	WHERE FE.QUANTIDADE_ENTREGUE > (
		SELECT AVG(FE.QUANTIDADE_ENTREGUE)
		FROM FUNCIONARIO_ENTREGA_MEDICAMENTO FE));

/* Mostra os médicos que trabalham no departamento de cirurgiões cardíacos (009)*/        
SELECT M.NOME
FROM MEDICOS M
WHERE M.CRM IN (SELECT MT.CRM
			FROM MEDICO_TRABALHA MT
			WHERE MT.ID_DEPARTAMENTO = '009');

/* Mostra os pacientes com HSV-2*/
SELECT P.NOME
FROM PACIENTES P
WHERE P.CPF IN (SELECT PD.CPF
				FROM PACIENTES_DIAGNOSTICO PD
                WHERE PD.DOENCA = 'HSV-2');
                
/* Mostra os enfermeiros que auxiliaram os leitos entre 001 e 002*/                
SELECT E.NOME, E.COREN
FROM ENFERMEIROS E
WHERE E.COREN IN(SELECT EA.COREN
							FROM ENFERMEIRO_AUXILIA_LEITO EA
								WHERE EA.ID_LEITO >= '001' AND EA.ID_LEITO <= '002');
/*Mostra os nomes dos médicos que falharam em uma cirurgia*/
SELECT M.NOME, M.CRM
FROM MEDICOS M
WHERE M.CRM IN (SELECT MR.CRM
				FROM MEDICOS_REALIZAM_CIRURGIAS MR
                WHERE MR.TIPO IN (SELECT C.TIPO 
								  FROM CIRURGIAS C
                                  WHERE C.RESULTADO = 'FRACASSO'));

